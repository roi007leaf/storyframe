---
phase: 05-journal-integration-ui-polish
plan: 03
type: execute
wave: 2
depends_on: ["05-02"]
files_modified:
  - styles/gm-interface.css
  - styles/player-viewer.css
autonomous: false

must_haves:
  truths:
    - "UI feels polished and professional, distinct from raw Foundry"
    - "Typography is readable with proper hierarchy"
    - "Interactive elements have smooth hover/active transitions"
    - "Active speaker highlight is visually prominent"
    - "Spacing feels balanced, not cramped"
  artifacts:
    - path: "styles/gm-interface.css"
      provides: "Polished GM interface styling"
      contains: "--sf-"
    - path: "styles/player-viewer.css"
      provides: "Polished player viewer styling"
      contains: "--sf-"
  key_links:
    - from: "gm-interface.css"
      to: "design-tokens.css"
      via: "CSS variable references"
      pattern: "var\\(--sf-"
    - from: "player-viewer.css"
      to: "design-tokens.css"
      via: "CSS variable references"
      pattern: "var\\(--sf-"
---

<objective>
Apply comprehensive UI polish to all StoryFrame elements.

Purpose: Transform "functional but raw" interface into polished, Arc-inspired design with consistent typography, thoughtful spacing, and smooth micro-interactions.
Output: Redesigned gm-interface.css and player-viewer.css using design tokens
</objective>

<execution_context>
@/Users/roihorowitz/.claude/get-shit-done/workflows/execute-plan.md
@/Users/roihorowitz/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-journal-integration-ui-polish/05-RESEARCH.md
@.planning/phases/05-journal-integration-ui-polish/05-02-SUMMARY.md
@styles/gm-interface.css
@styles/player-viewer.css
@styles/design-tokens.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Polish GM interface with design tokens</name>
  <files>styles/gm-interface.css</files>
  <action>
Comprehensive redesign of gm-interface.css using design tokens. Preserve structure, enhance aesthetics.

**Header section:**
- Use --sf-space-md for padding
- Subtle bottom border with --sf-border-subtle
- Select input: --sf-radius-md, smooth border transition on focus

**Page TOC (left sidebar):**
- Background: --sf-bg-elevated for depth
- .page-item: Use --sf-space-sm padding, --sf-transition-base hover
- .page-item hover: translateX(2px) slide, --sf-bg-hover background
- .page-item.selected: Bold border-left accent, no transform
- Page numbers: --sf-font-sm, --sf-text-muted color

**Content area (middle):**
- .journal-page-header: --sf-space-lg padding, cleaner border
- .journal-page-header h2: --sf-font-xl size, --sf-leading-tight
- .journal-page-content:
  - max-width: var(--sf-content-width) for readability
  - margin: 0 auto to center
  - --sf-space-xl horizontal padding
  - line-height: var(--sf-leading-relaxed)
- Paragraphs: --sf-space-md margin-bottom
- Headings: Proper hierarchy with --sf-font-lg, --sf-font-xl sizes

**Speaker gallery (right sidebar):**
- Grid gap: --sf-space-md
- .speaker-thumbnail:
  - --sf-radius-md border radius
  - --sf-transition-base for all transitions
  - Hover: translateY(-2px) scale(1.03), --sf-shadow-lg
  - Active: scale(1.05), --sf-shadow-focus glow, border-color accent
  - will-change: transform for GPU acceleration
- .speaker-name: --sf-font-sm, --sf-space-xs margin-top, letter-spacing: 0.01em
- .remove-speaker:
  - --sf-radius-full
  - Backdrop-filter: blur(4px) for frosted glass
  - --sf-transition-fast for snappy reveal
  - Hover: scale(1.1)
  - Active: scale(0.95)

**Sidebar header:**
- Use --sf-space-lg for padding balance
- Buttons: --sf-radius-md, --sf-transition-base
- Button hover: translateY(-1px), --sf-shadow-sm

**Empty states:**
- --sf-text-muted color
- --sf-font-sm for hints
- More generous padding

**Add sf-fade-in animation:**
- Apply to .storyframe-container for smooth window open
  </action>
  <verify>
Manual visual inspection in Foundry:
1. Header looks refined, select has subtle focus ring
2. Page list items slide on hover, selected stands out
3. Content area has comfortable reading width, good typography
4. Speaker thumbnails have smooth lift on hover
5. Active speaker has prominent glow highlight
6. Remove buttons appear smoothly, have satisfying click feedback
7. Overall: Interface feels polished, not default
  </verify>
  <done>
GM interface uses design tokens throughout.
Typography clear with proper hierarchy.
Smooth transitions on all interactive elements.
Professional, refined appearance.
  </done>
</task>

<task type="auto">
  <name>Task 2: Polish player viewer with matching design</name>
  <files>styles/player-viewer.css</files>
  <action>
Update player-viewer.css to match GM interface polish level.

**Base gallery:**
- --sf-space-lg padding
- sf-fade-in animation on container

**Grid layout:**
- --sf-space-md gap
- Slightly larger minmax (100px min for better thumbnails)

**List layout:**
- --sf-space-sm gap
- --sf-space-md row padding
- Better alignment for horizontal items

**Horizontal layout:**
- --sf-space-md gap
- Smooth scroll behavior

**Speaker items:**
- Same transitions as GM interface:
  - --sf-radius-md
  - --sf-transition-base
  - Hover: translateY(-2px) scale(1.03)
- Active state: --sf-shadow-focus glow, border accent, scale(1.05)
- will-change: transform

**Speaker images:**
- --sf-radius-sm inner radius
- Opacity transition on hover (subtle: 0.9)

**Speaker names:**
- --sf-font-sm
- --sf-space-xs margin
- letter-spacing: 0.01em for refinement

**Empty state:**
- --sf-text-muted
- --sf-space-xl padding
- Friendlier wording if desired
  </action>
  <verify>
Manual visual inspection in Foundry (as player):
1. Gallery renders smoothly with fade-in
2. Speaker thumbnails match GM interface styling
3. Active speaker clearly highlighted
4. Layout toggle works, all layouts look polished
5. Consistent with GM interface appearance
  </verify>
  <done>
Player viewer matches GM interface polish level.
Consistent visual language across both apps.
Smooth transitions and clear active state.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete UI polish for StoryFrame - GM interface and player viewer redesigned with:
- Design token system for consistent styling
- Typography with proper hierarchy and reading width
- Smooth hover/active micro-interactions
- Refined speaker gallery with lift effects and glow highlights
- Polished details throughout (borders, shadows, spacing)
  </what-built>
  <how-to-verify>
1. Open Foundry as GM
2. Open StoryFrame (Ctrl+Shift+S or token controls button)
3. **Header check:** Does select look refined? Focus ring on keyboard nav?
4. **Page list check:** Hover items - do they slide? Selected item prominent?
5. **Content check:** Is text comfortable to read? Good width and line height?
6. **Gallery check:** Hover thumbnails - smooth lift? Active speaker glows?
7. **Remove button check:** Smooth reveal on hover? Satisfying click?
8. Open as Player (different browser/incognito)
9. **Player viewer:** Matches GM styling quality?
10. **Overall impression:** Does it feel polished, like a quality product?
  </how-to-verify>
  <resume-signal>Type "approved" or describe specific issues to fix</resume-signal>
</task>

</tasks>

<verification>
- [ ] gm-interface.css uses design tokens (--sf-* variables)
- [ ] player-viewer.css uses design tokens
- [ ] Typography hierarchy clear (sizes, weights)
- [ ] Spacing balanced throughout
- [ ] Hover transitions smooth (200ms ease-out)
- [ ] Active states prominent (scale + glow)
- [ ] No layout breakage from style changes
- [ ] Consistent appearance between GM and player views
</verification>

<success_criteria>
- Interface feels polished and professional
- Typography readable with clear hierarchy
- Interactive elements responsive with smooth feedback
- Active speaker immediately identifiable
- Visual quality comparable to modern apps (Arc browser reference)
- User confirms approval in checkpoint
</success_criteria>

<output>
After completion, create `.planning/phases/05-journal-integration-ui-polish/05-03-SUMMARY.md`
</output>
