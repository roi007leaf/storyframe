---
phase: 05-journal-integration-ui-polish
plan: 03
type: execute
wave: 2
depends_on: ["05-02"]
files_modified:
  - styles/gm-interface.css
  - styles/player-viewer.css
autonomous: false

must_haves:
  truths:
    - "UI feels polished and professional, distinct from raw Foundry"
    - "Typography is readable with proper hierarchy"
    - "Interactive elements have smooth hover/active transitions"
    - "Active speaker highlight is visually prominent"
    - "Spacing feels balanced, not cramped"
  artifacts:
    - path: "styles/gm-interface.css"
      provides: "Polished GM interface styling"
      contains: "--sf-"
    - path: "styles/player-viewer.css"
      provides: "Polished player viewer styling"
      contains: "--sf-"
  key_links:
    - from: "gm-interface.css"
      to: "design-tokens.css"
      via: "CSS variable references"
      pattern: "var\\(--sf-"
    - from: "player-viewer.css"
      to: "design-tokens.css"
      via: "CSS variable references"
      pattern: "var\\(--sf-"
---

<objective>
Apply comprehensive UI polish to all StoryFrame elements using design tokens from 05-02.

Purpose: Transform "functional but raw" interface into polished, Arc-inspired design with consistent typography, thoughtful spacing, and smooth micro-interactions.
Output: Redesigned gm-interface.css and player-viewer.css referencing design-tokens.css variables
</objective>

<execution_context>
@/Users/roihorowitz/.claude/get-shit-done/workflows/execute-plan.md
@/Users/roihorowitz/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-journal-integration-ui-polish/05-RESEARCH.md
@.planning/phases/05-journal-integration-ui-polish/05-02-SUMMARY.md
@styles/gm-interface.css
@styles/player-viewer.css
@styles/design-tokens.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Apply typography and spacing foundation</name>
  <files>styles/gm-interface.css</files>
  <action>
Using design tokens from 05-02 (styles/design-tokens.css), update typography and spacing throughout gm-interface.css.

**Reference tokens:** var(--sf-font-*), var(--sf-space-*), var(--sf-leading-*), var(--sf-content-width)

**Header section:**
- Use var(--sf-space-md) for padding
- Subtle bottom border with var(--sf-border-subtle)
- Select input: var(--sf-radius-md), smooth border transition on focus

**Page TOC (left sidebar):**
- Background: var(--sf-bg-elevated) for depth
- .page-item: Use var(--sf-space-sm) padding
- .page-item.selected: Bold border-left accent
- Page numbers: var(--sf-font-sm), var(--sf-text-muted) color

**Content area (middle):**
- .journal-page-header: var(--sf-space-lg) padding, cleaner border
- .journal-page-header h2: var(--sf-font-xl) size, var(--sf-leading-tight)
- .journal-page-content:
  - max-width: var(--sf-content-width) for readability (50-75ch)
  - margin: 0 auto to center
  - var(--sf-space-xl) horizontal padding
  - line-height: var(--sf-leading-relaxed)
- Paragraphs: var(--sf-space-md) margin-bottom
- Headings: Proper hierarchy with var(--sf-font-lg), var(--sf-font-xl) sizes

**Speaker gallery (right sidebar):**
- Grid gap: var(--sf-space-md)
- .speaker-name: var(--sf-font-sm), var(--sf-space-xs) margin-top, letter-spacing: 0.01em

**Sidebar header:**
- Use var(--sf-space-lg) for padding balance
- Buttons: var(--sf-radius-md)

**Empty states:**
- var(--sf-text-muted) color
- var(--sf-font-sm) for hints
- More generous padding
  </action>
  <verify>
Manual visual inspection in Foundry:
1. Content area has comfortable reading width (50-75 characters per line)
2. Font sizes create clear hierarchy (headers larger than body)
3. Spacing feels balanced, not cramped
4. Page list items properly spaced with readable text
  </verify>
  <done>
Typography tokens applied throughout GM interface.
Content width constrained to 50-75ch for readability.
Spacing consistent using design token scale.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add micro-animations and interactive polish</name>
  <files>styles/gm-interface.css, styles/player-viewer.css</files>
  <action>
Using design tokens from 05-02, add smooth transitions and interactive states.

**Reference tokens:** var(--sf-transition-*), var(--sf-ease-*), var(--sf-shadow-*), var(--sf-radius-*)

**GM Interface - Page TOC interactions:**
- .page-item: var(--sf-transition-base) hover transition
- .page-item hover: translateX(2px) slide, var(--sf-bg-hover) background
- .page-item.selected: no transform (stable anchor)

**GM Interface - Speaker thumbnails:**
- .speaker-thumbnail:
  - var(--sf-radius-md) border radius
  - var(--sf-transition-base) for all transitions
  - Hover: translateY(-2px) scale(1.03), var(--sf-shadow-lg)
  - Active: scale(1.05), var(--sf-shadow-focus) glow, border-color accent
  - will-change: transform for GPU acceleration
- .remove-speaker:
  - var(--sf-radius-full)
  - Backdrop-filter: blur(4px) for frosted glass
  - var(--sf-transition-fast) for snappy reveal
  - Hover: scale(1.1)
  - Active: scale(0.95)

**GM Interface - Buttons:**
- Button hover: translateY(-1px), var(--sf-shadow-sm)
- var(--sf-transition-base) timing

**GM Interface - Container:**
- Apply sf-fade-in animation to .storyframe-container for smooth window open

**Player Viewer - matching polish:**
- Same speaker thumbnail transitions as GM interface
- .speaker-item active: scale(1.05), var(--sf-shadow-focus) glow
- sf-fade-in animation on container
- Grid/list gaps: var(--sf-space-md)
- Speaker names: var(--sf-font-sm), letter-spacing: 0.01em
  </action>
  <verify>
Manual visual inspection in Foundry:
1. Page list items slide right on hover (translateX visible)
2. Hover transitions complete smoothly (under 250ms, no jank)
3. Speaker thumbnails lift on hover (translateY + scale visible)
4. Active speaker has scale(1.05) and glow visible
5. Remove buttons appear smoothly on thumbnail hover
6. No layout shift during hover/active transitions
  </verify>
  <done>
Smooth transitions on all interactive elements (200ms).
Active speaker has prominent scale(1.05) + glow highlight.
Consistent polish between GM and player interfaces.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete UI polish for StoryFrame - GM interface and player viewer redesigned with:
- Design token system for consistent styling
- Typography with proper hierarchy and reading width
- Smooth hover/active micro-interactions
- Refined speaker gallery with lift effects and glow highlights
- Polished details throughout (borders, shadows, spacing)
  </what-built>
  <how-to-verify>
1. Open Foundry as GM
2. Open StoryFrame (Ctrl+Shift+S or token controls button)

**Measurable checks:**
3. **Content width:** Highlight a line of text - should be 50-75 characters (not full width)
4. **Active speaker scale:** Set active speaker, compare size to inactive - active should be visibly larger (1.05x)
5. **Active speaker glow:** Active speaker should have visible colored outline/shadow (var(--sf-shadow-focus))
6. **Hover transitions:** Hover speaker thumbnail, mentally count - transition should complete in under 250ms (no lag)
7. **Layout stability:** Hover/unhover multiple thumbnails - no content jumping or layout shift

**Player view:**
8. Open as Player (different browser/incognito)
9. Verify: Active speaker has same scale + glow as GM view
10. Verify: Thumbnail hover has same smooth lift effect

**Overall:** Interface should feel refined - distinct from raw Foundry defaults
  </how-to-verify>
  <resume-signal>Type "approved" or describe specific issues (e.g., "glow not visible", "transitions too slow")</resume-signal>
</task>

</tasks>

<verification>
- [ ] gm-interface.css uses design tokens (--sf-* variables)
- [ ] player-viewer.css uses design tokens
- [ ] Content width constrained to 50-75ch
- [ ] Typography hierarchy clear (sizes, weights)
- [ ] Spacing balanced throughout
- [ ] Hover transitions complete in <250ms
- [ ] Active speaker scale(1.05) visually distinct
- [ ] Active speaker glow (shadow-focus) visible
- [ ] No layout shift on hover
- [ ] Consistent appearance between GM and player views
</verification>

<success_criteria>
- Interface feels polished and professional
- Typography readable with clear hierarchy
- Content width optimal for reading (50-75ch)
- Interactive elements responsive with smooth feedback (<250ms)
- Active speaker immediately identifiable (scale + glow)
- Visual quality comparable to modern apps (Arc browser reference)
- User confirms approval in checkpoint
</success_criteria>

<output>
After completion, create `.planning/phases/05-journal-integration-ui-polish/05-03-SUMMARY.md`
</output>
